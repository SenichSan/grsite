{# templates/carts/includes/included_cart.html #}
{% load static %}
{% if carts and carts.exists %}
<div class="cart-list">
    {% for cart in carts %}
    <div class="cart-row" data-cart-id="{{ cart.id }}">
        <div class="cart-row-left">
            {% if cart.product.image %}
            <img src="{{ cart.product.image.url }}" alt="{{ cart.product.name }}" width="64" height="64">
            {% endif %}
        </div>

        <div class="cart-row-mid">
            <div class="cart-prod-title">{{ cart.product.name }}</div>
            <div class="cart-prod-sku">{{ cart.product.sku|default:"" }}</div>
        </div>

        <div class="cart-row-qty">
            <button class="qty-btn qty-decrement" data-cart-id="{{ cart.id }}" aria-label="Уменьшить">−</button>
            <input class="qty-input" type="number" min="1" value="{{ cart.quantity }}" data-cart-id="{{ cart.id }}">
            <button class="qty-btn qty-increment" data-cart-id="{{ cart.id }}" aria-label="Увеличить">+</button>
        </div>

        <div class="cart-row-price">
            <div class="cart-prod-price">{{ cart.products_price }} ₴</div>
            <button class="remove-from-cart" data-cart-id="{{ cart.id }}"
                    data-cart-remove-url="{% url 'carts:cart_remove' %}" aria-label="Удалить">Удалить
            </button>
        </div>
    </div>
    {% endfor %}
</div>

<div class="cart-summary">
    <div>Всего: <strong id="cart-summary-quantity">{{ total_quantity|default:"" }}</strong> шт</div>
    <div>Итого: <strong id="cart-summary-sum">{{ total_sum|default:"" }}</strong> ₴</div>
</div>
{% else %}
    <p>Ваша корзина пуста</p>
{% endif %}
