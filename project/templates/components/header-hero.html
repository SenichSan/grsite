{% load static %}

<section class="header-hero" role="region" aria-label="Главный баннер">
    <!-- фон -->
    <div class="hero-bg" aria-hidden="true">
        <picture>
            <!-- Prefer AVIF -->
            <source media="(max-width:599px)" srcset="{% static 'deps/images/bg-image-blur-800.avif' %}" type="image/avif">
            <source media="(min-width:600px)" srcset="{% static 'deps/images/bg-image-blur-1600.avif' %}" type="image/avif">
            <!-- Then WebP -->
            <source media="(max-width:599px)" srcset="{% static 'deps/images/bg-image-blur-800.webp' %}" type="image/webp">
            <source media="(min-width:600px)" srcset="{% static 'deps/images/bg-image-blur-1600.webp' %}" type="image/webp">
            <!-- Fallback JPEG -->
            <source media="(max-width:599px)"
                    srcset="{% static 'deps/images/bg-image-blur-800.jpg' %} 1x, {% static 'deps/images/bg-image-blur-1600.jpg' %} 2x"
                    type="image/jpeg">
            <source media="(min-width:600px)"
                    srcset="{% static 'deps/images/bg-image-blur-1600.jpg' %} 1x, {% static 'deps/images/bg-image-blur-2400.jpg' %} 2x"
                    type="image/jpeg">
            <img class="hero-image"
                 src="{% static 'deps/images/bg-image-blur-1600.jpg' %}" alt=""
                 width="1600" height="400" loading="eager" decoding="async" fetchpriority="high">
        </picture>
    </div>

    <!-- overlay (оставляем как есть) -->
    <div class="hero-overlay" aria-hidden="true"></div>

    <!-- контентный контейнер (центрует ширину) -->
    <div class="container-inner header-hero-content">
        <header class="tm-header" role="banner" aria-label="Шапка сайта">

            <!-- 1) LEFT: логотип / текст (вертикально выровнен) -->
            <div class="tm-header-left">
                <div class="tm-site-text-box">
                    <h1 class="tm-site-title">Grownica</h1>
                    <h6 class="tm-site-description">Чарівний світ гровінгу</h6>
                </div>
            </div>

            <!-- 2) TOP-RIGHT: соцсети (абсолютно сверху справа) -->
            <div class="tm-header-social" aria-hidden="false">
                

                <a href="#" class="tm-social-link" title="Telegram" aria-label="Telegram">
                    <picture>
                        <source srcset="{% static 'deps/images/telegram_48x48.avif' %} 1x, {% static 'deps/images/telegram_96x96.avif' %} 2x" type="image/avif">
                        <source srcset="{% static 'deps/images/telegram_48x48.webp' %} 1x, {% static 'deps/images/telegram_96x96.webp' %} 2x" type="image/webp">
                        <img src="{% static 'deps/images/telegram.png' %}" alt="Telegram" width="49" height="49" loading="lazy" decoding="async">
                    </picture>
                </a>

                <a href="#" class="tm-social-link" title="Viber" aria-label="Viber">
                    <picture>
                        <source srcset="{% static 'deps/images/viber_48x48.avif' %} 1x, {% static 'deps/images/viber_96x96.avif' %} 2x" type="image/avif">
                        <source srcset="{% static 'deps/images/viber_48x48.webp' %} 1x, {% static 'deps/images/viber_96x96.webp' %} 2x" type="image/webp">
                        <img src="{% static 'deps/images/viber.png' %}" alt="Viber" width="49" height="49" loading="lazy" decoding="async">
                    </picture>
                </a>

                <a href="#" class="tm-social-link" title="Whatsapp" aria-label="Whatsapp">
                    <picture>
                        <source srcset="{% static 'deps/images/whatsapp_48x48.avif' %} 1x, {% static 'deps/images/whatsapp_96x96.avif' %} 2x" type="image/avif">
                        <source srcset="{% static 'deps/images/whatsapp_48x48.webp' %} 1x, {% static 'deps/images/whatsapp_96x96.webp' %} 2x" type="image/webp">
                        <img src="{% static 'deps/images/whatsapp.png' %}" alt="Whatsapp" width="49" height="49" loading="lazy" decoding="async">
                    </picture>
                </a>
                <!-- при необходимости добавь ещё ссылки -->
            </div>

            <!-- 3) BOTTOM-RIGHT: навигация (кнопки) -->
            <nav class="tm-header-nav" aria-label="Главная навигация">
                <ul class="tm-nav-buttons">
                    {% with ns=request.resolver_match.namespace name=request.resolver_match.url_name %}
                    <li class="tm-nav-li {% if name == 'home' or ns == 'main' %}is-active{% endif %}">
                        <a href="{% url 'main:home' %}"
                           class="tm-nav-link {% if name == 'home' or ns == 'main' %}active{% endif %}">Головна</a>
                    </li>
                    <li class="tm-nav-li {% if ns == 'catalog' or name|default:''|slice:"0:7" == 'catalog' %}is-active{% endif %}">
                        <a href="{% url 'catalog:catalog_all' %}"
                           class="tm-nav-link {% if ns == 'catalog' or name|default:''|slice:"0:7" == 'catalog' %}active{% endif %}">Каталог</a>
                    </li>
                    <li class="tm-nav-li {% if ns == 'contacts' or name == 'contacts' %}is-active{% endif %}">
                        <a href="#" class="tm-nav-link {% if ns == 'contacts' or name == 'contacts' %}active{% endif %}">Контакти</a>
                    </li>
                    {% endwith %}
                </ul>
            </nav>
        </header>
    </div>
</section>
